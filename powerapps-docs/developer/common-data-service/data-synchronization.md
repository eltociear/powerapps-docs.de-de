---
title: <Topic Title> (Common Data Service for Apps) | Microsoft Docs
description: <Description>
ms.custom: ''
ms.date: 10/31/2018
ms.reviewer: ''
ms.service: powerapps
ms.topic: article
author: brandonsimons
ms.author: jdaly
manager: ryjones
search.audienceType:
  - developer
search.app:
  - PowerApps
  - D365CE
---
# <a name="data-synchronization"></a>Datensynchronisierung

Manchmal müssen Sie Common Data Service for Apps-Daten mit Daten synchronisieren und integrieren, die in anderen Systemen gespeichert sind. Zu den häufigsten Datenintegrationsmustern gehören folgende: Daten aus einem externen System werden an CDS for Apps übertragen, Daten aus CDS for Apps werden mit einem externen Datenspeicher synchronisiert oder CDS for Apps wird mit externen Daten aktualisiert. Sie können nun mehrere neue Funktionen verwenden, um das Schreiben von Code für diese Szenarien erheblich zu vereinfachen.  

 Diese neuen Funktionen können in einer beliebigen Situation einzeln nach Bedarf verwendet werden, aber zusammen beheben sie allgemeine Probleme in Verbindung mit der Sychnronisierung und Integration von Daten mit externen Daten. In der folgenden Tabelle werden diese neuen Funktionen vorgestellt.  


|            Funktion            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Beschreibung                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Entfernen spezieller Nachrichten |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       CDS for Apps bietet verschiedene spezielle Nachrichten für spezifische Vorgänge, die Datensätze aktualisieren. Diese Nachrichten sind in dieser Version veraltet. Sie Sie verwenden nun einfach `Update`, um dieselben Vorgänge auszuführen. Die veralteten Nachrichten sind:<br /><br /> -   Zuweisen<br />-   SetParentSystemUser<br />-   SetParentTeam<br />-   SetParentBusinessUnit<br />-   SetBusinessEquipment<br />-   SetBusinessUnit<br />-   SetState<br /><br /> Einfach den einfach Datensatz zu aktualisieren ist viel einfacher als Nachrichten zu verwenden und optimiert die Entwicklung für Datenintegrations- und -Synchronisierungsszenarien. Weitere Informationen: [Durchführen spezieller Vorgänge mithilfe Update](/dynamics365/customer-engagement/developer/org-service/perform-specialized-operations-using-update)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|        Alternativschlüssel         | In Unternehmensbereitstellungen von CDS for Apps ist es üblich, dass Daten aus externen Unternehmenssystemen in CDS for Apps geladen werden, sodass sie Benutzern angezeigt werden können. Diese externen Systeme können oft nicht erweitert werden, um die CDS for Apps-Datensatz-IDs (GUIDs) zu speichern, die für die Systemsynchronisierung erforderlich sind. Eine gebräuchliche Lösung ist, ein benutzerdefiniertes Attribut zu einer Entität in CDS for Apps hinzuzufügen, das zum Speichern der ID des verknüpften Datensatzes im externen System verwendet werden kann.<br /><br /> Wenn Datenladeprozesse erstellt werden, die Datensätze in CDS for Apps aktualisieren und den verknüpften Datensätzen in CDS for Apps Verweise zuordnen, müssen Sie zuerst einen zusätzlichen CDS for Apps-Webdienstaufruf durchführen, um den CDS for Apps-Zieldatensatz auf Grundlage dieser externen ID abzurufen. Die Suche kann langsam sein, wenn es keinen entsprechenden Index für das benutzerdefinierte Attribut gibt. Und in CDS for Apps-Szenarien erfordert jede dieser Suchen einen aufwändigen Roundtrip im Internet. Diese zusätzlichen Roundtrips können die Zeit, die für das Update jedes CDS for Apps-Datensatzes benötigt wird, erheblich verlängern und den gesamten Durchsatz drastisch verringern.<br /><br /> Nun können Webdienstvorgänge auf einen CDS for Apps-Datensatz abzielen, indem sie anstelle einer GUID einen oder mehrere Alternativschlüssel verwenden. Darüber hinaus können von Entitätsverweise zu verknüpften Datensätzen mit einem oder mehreren Alternativschlüsseln angegeben werden. Da Alternativschlüssel indiziert werden, sind die Suchenvorgangsshow verglichen mit dem Hinzufügen eines benutzerdefinierten Attributs als ID erheblich leistungsfähiger. Sollten ein Fehler auftreten, gibt das System einen Fehler aus und setzt alle Änderungen zurück. Weitere Informationen: [Definieren von Alternativschlüsseln für eine Entität](define-alternate-keys-entity.md) |
|        Änderungsnachverfolgung        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Wenn Organisationen CDS for Apps-Daten in einem externen Speicher verwalten müssen, haben sie jetzt die Möglichkeit, diese Daten performant zu synchronisieren, indem festgestellt wird, welche Daten geändert wurden, nachdem die Daten ursprünglich extrahiert oder zuletzt synchronisiert wurden. Die Nachricht <xref:Microsoft.Xrm.Sdk.Messages.RetrieveEntityChangesRequest> wird verwendet, um die Änderungen für eine Entität abzurufen. Weitere Informationen finden Sie unter [Verwenden von Änderungsnachverfolgung zum Synchronisieren von Daten mit externen Systemen](use-change-tracking-synchronize-data-external-systems.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|            Upsert             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Wenn Daten aus einem externen System in CDS for Apps geladen werden, sehen Sie möglicherweise nicht, ob ein Datensatz bereits in CDS for Apps vorhanden ist und aktualisiert werden sollte oder ob Sie einen neuen Datensatz erstellen müssen. Verwenden Sie die neue Nachricht <xref:Microsoft.Xrm.Sdk.Messages.UpsertRequest>, um in einem API-Aufruf den Datensatz zu aktualisieren, falls er vorhanden ist, oder einen neuen Datensatz zu erstellen, wenn er nicht vorhanden ist. Weitere Informationen: [Aktualisieren von Dynamics 365 mit externen Daten mithilfe von Upsert](use-upsert-insert-update-record.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

 In der folgenden Tabelle wird die Komplexität der Synchronisierung mit und ohne diese neuen Funktionen verglichen:  


|                                                       Vorher                                                        |                                                                                                                                                                                                                                                                                                                     Beschreibung                                                                                                                                                                                                                                                                                                                      |
|---------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ![Update mithilfe spezialisierter Nachrichten](media/before-carina-dynamics-crm-2015.png "Update mithilfe spezialisierter Nachrichten") | Für jeden Datensatz:<br /><br /> 1.  Führen Sie eine Abfrage in CDS for Apps durch, um festzustellen, ob die Firma vorhanden ist. Wenn sie vorhanden ist, rufen Sie die Firmen-ID ab (z. B. ABC123)<br />2.  Führen Sie eine Abfrage der Kontakte durch, um sicherzustellen, dass der Kontakt vorhanden ist. Wenn er vorhanden ist, rufen Sie die E-Mail-ID des Kontakts ab (z. B. contact@company.com).<br />3.  Abfrage, um eine Regions-ID zu erhalten oder festzulegen (z. B. NW).<br />4.  Führen Sie eine Abfrage durch, um die Besitzer-IDzu erhalten und den Benutzer festzulegen (z. B. user@mycompany.com).<br />5.  Aktualisieren Sie die Firma.<br />6.  Legen Sie den Status der Firma durch Abrufen der `SetState`-API fest.<br />7.  Weisen Sie den Besitzer durch Aufrufen der `Assign`-API zu. |

 Mit den neuen Features müssen Sie nur einen Anruf für den Server durchführen, um dieselben wie oben beschrieben Vorgänge auszuführen.  


|                                                Nach                                                 |                                                                                                   Beschreibung                                                                                                   |
|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ![Update mithilfe von UpdateRequest](media/after-carina-dynamics-crm-2015.png "Update mithilfe von UpdateRequest") | Nur ein Aufruf, um zu überprüfen, dass eine Firma mit der eindeutigen ID ABC123 vorhanden ist, um den primären Kontakt auf contact@company.com festzulegen, die Region auf NW zu setzen, den Besitzer auf user@mycompany.com festzulegen und den Status auf „Aktiv“ zu setzen. |

## <a name="in-this-section"></a>In diesem Abschnitt  
 [Definieren von Alternativschlüsseln für eine Entität](define-alternate-keys-entity.md)<br />
 [Verwenden von Alternativschlüsseln](use-alternate-key-create-record.md)<br />
 [Synchronisieren von Daten mit externen Systemen mithilfe der Änderungsnachverfolgung](use-change-tracking-synchronize-data-external-systems.md)<br />
 [Aktualisieren von Dynamics 365 mit externen Daten mithilfe von Upsert](use-upsert-insert-update-record.md)<br />
 [Beispiel: Einen Datensatz mit Upsert einfügen oder aktualisieren](/dynamics365/customer-engagement/developer/sample-insert-update-record-upsert)<br />
 [Beispiel: Synchronisieren von Daten mit externen Systemen mithilfe der Änderungsnachverfolgung](/dynamics365/customer-engagement/developer/sample-synchronize-data-external-systems-using-change-tracking)<br /> 

## <a name="related-sections"></a>Verwandte Abschnitte  
 [Durchführen spezieller Vorgänge mithilfe des Updates](/dynamics365/customer-engagement/developer/org-service/perform-specialized-operations-using-update)<br /> 
 [Entwicklerhandbuch über Anpassung für Dynamics 365](/dynamics365/customer-engagement/developer/customize-dev/customize-applications)<br /> 